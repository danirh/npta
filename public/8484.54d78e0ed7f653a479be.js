(self.webpackChunknpta=self.webpackChunknpta||[]).push([[8484],{8484:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomePageModule:()=>Ce});var o=n(1116),i=n(6498),s=n(1462),r=n(2693),c=n(2850),a=n(3559),l=n(8720),g=n(8619),u=n(4166);function p(e,t,n,o){return new(n||(n=Promise))(function(i,s){function r(e){try{a(o.next(e))}catch(t){s(t)}}function c(e){try{a(o.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,c)}a((o=o.apply(e,t||[])).next())})}var d=n(8318),h=n(7570);class m extends h.w{constructor(e,t){super()}schedule(e,t=0){return this}}class f extends m{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,o=!1;try{this.work(e)}catch(i){o=!0,n=!!i&&i||new Error(i)}if(o)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,o=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&n.splice(o,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Z=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class _ extends Z{constructor(e,t=Z.now){super(e,()=>_.delegate&&_.delegate!==this?_.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return _.delegate&&_.delegate!==this?_.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const x=new _(f);var v=n(8470);function w(e){return!(0,v.k)(e)&&e-parseFloat(e)+1>=0}function b(e){const{subscriber:t,counter:n,period:o}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:o},o)}var C=n(611),O=n(9996);function M(e,t){if(1&e&&(g.TgZ(0,"li"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.Oqu(e)}}let y=(()=>{class e{constructor(e){this.popoverController=e,this.helpTexts=new Map([["input",["30 sec to jot down a Name, Place, Thing and an Animal","\u2018LOCK\u2019 your answers sooner to get bonus points","You can change your answers after \u2018LOCK\u2019ing. Just make sure you lock them again"]],["assessment",["Upvote a word by Tapping on it","Tap again to discard your vote","A word is considered correct if it has a majority of upvotes or is in our vocabulary","Green highlighted: Correct and Unique words","Yellow highlighted: Correct but Non-unique words","Striked-off: Invalid words","Thumbs Up: Upvoted by you","Words used in a previous round will be considered invalid"]],["score",["Correct and Unique word: 10 points","Correct but Non-Unique word: 5 points","Time bonus: Time Left / 30 * Initial Score"]]])}ngOnInit(){}dismissPopover(){this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-help"]],inputs:{stage:"stage"},decls:14,vars:4,consts:[["mode","md",1,"ion-no-border"],["color","primary"],[1,"content"],[4,"ngFor","ngForOf"],[1,"ion-no-border"],[1,"ion-text-center"],[3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar",1),g.TgZ(2,"ion-title"),g._uU(3,"Stage Help"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"h4"),g._uU(6),g.ALo(7,"uppercase"),g.qZA(),g.TgZ(8,"ul"),g.YNc(9,M,2,1,"li",3),g.qZA(),g.qZA(),g.TgZ(10,"ion-footer",4),g.TgZ(11,"ion-toolbar",5),g.TgZ(12,"ion-button",6),g.NdJ("click",function(){return t.dismissPopover()}),g._uU(13,"DISMISS"),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(6),g.hij("Stage: ",g.lcZ(7,2,t.stage),""),g.xp6(3),g.Q6J("ngForOf",t.helpTexts.get(t.stage)))},directives:[i.Gu,i.sr,i.wd,o.sg,i.fr,i.YG],pipes:[o.gd],styles:["[_nghost-%COMP%]{color:maroon}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{padding-inline-start:28px}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{padding-inline-end:12px}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}"]}),e})();var A=n(8512),T=n(529);let P=(()=>{class e{constructor(e,t,n){this.socketService=e,this.toastController=t,this.http=n,this.stage=new A.X("start"),this.letter="A",this.validWords=new A.X({}),this.round=new A.X(1),this.timer=new a.xQ,this.viewOnly=new a.xQ,this.submissionTrigger=new a.xQ,this.submissionToast=e=>p(this,void 0,void 0,function*(){(yield this.toastController.create({header:"Answer successfully locked",message:`Locked at ${e} sec`,duration:2e3,cssClass:"custom-toast-position",translucent:!0,mode:"md",color:"primary"})).present()}),this.suggestionToast=e=>p(this,void 0,void 0,function*(){(yield this.toastController.create({header:e?"Suggestion successfully recorded":"Failed to submit suggestion",message:e?"Your suggestion will be processed soon":"Please try again later.",duration:2e3,cssClass:"custom-toast-position",translucent:!0,mode:"md",color:e?"primary":"danger"})).present()})}getStage(){return this.socketService.getSocket().emit("getStage",(e,t,n)=>{this.round.next(e),this.scores=t,this.viewOnly.next(n)}),this.stage}getRound(){return this.round}getTimer(){return this.timer}getViewOnlyStatus(){return this.viewOnly}startGame(e){this.socketService.getSocket().emit("startGame",e)}handleGame(){this.socketService.getSocket().on("stageStart",()=>{this.stage.next("start"),this.scores={total:[]}}),this.socketService.getSocket().on("stageRoundTransition",e=>{this.round.next(e),this.viewOnly.next(!1),this.validWords.next({}),this.stage.next("transition")}),this.socketService.getSocket().on("stageInput",e=>{this.letter=e,this.stage.next("input")}),this.socketService.getSocket().on("submitInput",()=>{console.log("Submitting..."),this.submissionTrigger.next()}),this.socketService.getSocket().on("stageAssessment",e=>{this.inputMaps=e,this.stage.next("assessment")}),this.socketService.getSocket().on("stageScore",e=>{this.scores=e,this.stage.next("score")}),this.socketService.getSocket().on("stageResult",e=>{this.winners=e,this.stage.next("result")}),this.socketService.getSocket().on("timer",e=>{this.timer.next(e)}),this.socketService.getSocket().on("validWords",e=>{this.validWords.next(e.reduce((e,t)=>(e[t]=!0,e),{}))})}getLetter(){return this.letter}getInputs(){return this.inputMaps}getValidWords(){return this.validWords.asObservable()}getScores(){return this.scores}getWinners(){return this.winners}saveInput(e,t){let n=t?this.submissionToast:()=>{};for(let o in e)e[o]=e[o].toLowerCase();this.socketService.getSocket().emit("saveInput",e,n)}updateVote(e,t){this.socketService.getSocket().emit("updateVote",e,t)}newGame(){this.socketService.getSocket().emit("newGame")}shareGame(){let e=location.origin+"/join.html?room="+encodeURIComponent(this.socketService.room);window.open("whatsapp://send?text="+encodeURI("Hey, join my room at\n\n"+e))}checkIfHost(){return this.socketService.isHost.asObservable()}fetchValidWords(){this.socketService.getSocket().emit("fetchValidWords")}suggestWord(e,t){this.http.post((T.N.backend_host||"")+"/suggestWord",{wordWithCategory:e,action:t},{observe:"response",responseType:"text"}).subscribe(e=>{200===e.status?this.suggestionToast(!0):this.submissionToast(!1)})}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(u.$),g.LFG(i.yF),g.LFG(r.eN))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function q(e,t){if(1&e&&(g.TgZ(0,"h5",2),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.AsE("",e[0]," - ",e[1],"")}}function S(e,t){if(1&e&&(g.ynx(0),g.YNc(1,q,2,2,"h5",8),g.BQk()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngForOf",e.scores.total)}}function k(e,t){1&e&&(g.TgZ(0,"h4"),g._uU(1,"No scores available yet."),g.qZA())}let U=(()=>{class e{constructor(e,t){this.popoverController=e,this.gameService=t}ngOnInit(){this.scores=this.gameService.getScores()}dismissPopover(){this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(i.Dh),g.Y36(P))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-scorecard"]],decls:12,vars:2,consts:[["mode","md",1,"ion-no-border"],["color","primary"],[1,"ion-text-center"],[1,"content"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"ion-no-border"],[3,"click"],["class","ion-text-center",4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar",1),g.TgZ(2,"ion-title",2),g._uU(3,"Scorecard"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",3),g.YNc(5,S,2,1,"ng-container",4),g.YNc(6,k,2,0,"ng-template",null,5,g.W1O),g.qZA(),g.TgZ(8,"ion-footer",6),g.TgZ(9,"ion-toolbar",2),g.TgZ(10,"ion-button",7),g.NdJ("click",function(){return t.dismissPopover()}),g._uU(11,"DISMISS"),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.MAs(7);g.xp6(5),g.Q6J("ngIf",t.scores.total.length)("ngIfElse",e)}},directives:[i.Gu,i.sr,i.wd,o.O5,i.fr,i.YG,o.sg],styles:["[_nghost-%COMP%]{color:maroon;font-size:14px}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{padding-inline-start:20px}"]}),e})(),I=(()=>{class e{constructor(e){this.popoverController=e}ngOnInit(){}dismissPopover(){this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-rules"]],decls:64,vars:0,consts:[["mode","md",1,"ion-no-border"],["color","primary"],[1,"content"],[1,"stage-list"],[1,"rules-list"],[1,"ion-no-border"],[1,"ion-text-center"],[3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar",1),g.TgZ(2,"ion-title"),g._uU(3,"Rules"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"ul",3),g.TgZ(6,"li"),g.TgZ(7,"h6"),g._uU(8,"Input:"),g.qZA(),g.TgZ(9,"ul",4),g.TgZ(10,"li"),g._uU(11,"Fill the four input fields with a word starting with the given letter for each of the four category, viz., Name, Place, Thing, and Animal."),g.qZA(),g.TgZ(12,"li"),g._uU(13,"You have maximum alotted time of 30 seconds to submit your inputs. You can lock your inputs before the alloted time to earn bonus points."),g.qZA(),g.TgZ(14,"li"),g._uU(15,"You can change your inputs even after locking. Just be sure to lock your inputs again for the changes to be registered."),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"li"),g.TgZ(17,"h6"),g._uU(18,"Assessment:"),g.qZA(),g.TgZ(19,"ul",4),g.TgZ(20,"li"),g._uU(21,"Your inputs will be first matched against our dictionary words to assess the correctness of the word. Valid inputs will be highlighted in Green."),g.qZA(),g.TgZ(22,"li"),g._uU(23,"Invalid inputs will be shown as striked-off words."),g.qZA(),g.TgZ(24,"li"),g._uU(25,"The rest of the input will be assessed by a majority of upvotes by the players."),g.qZA(),g.TgZ(26,"li"),g._uU(27,"To upvote an answer, tap once on the word chip. Tapping again will discard your upvote."),g.qZA(),g.TgZ(28,"li"),g._uU(29,"Once a word gains majority upvote, it will be considered a valid input and highlighted in Green."),g.qZA(),g.TgZ(30,"li"),g._uU(31,"When there is two or more instances of the same word in the same category, it will be highlighted in a shade of Yellow."),g.qZA(),g.TgZ(32,"li"),g._uU(33,"If a word has been used in a previous round, it will be considered as invalid."),g.qZA(),g.qZA(),g.qZA(),g.TgZ(34,"li"),g.TgZ(35,"h6"),g._uU(36,"Score:"),g.qZA(),g.TgZ(37,"ul",4),g.TgZ(38,"li"),g._uU(39,"Scoring will be done by the app itself based on the following rules-"),g.qZA(),g.TgZ(40,"li"),g._uU(41,"Each correct and unique answer will carry 10 points each."),g.qZA(),g.TgZ(42,"li"),g._uU(43,"Correct but non-unique answers will carry 5 points each."),g.qZA(),g.TgZ(44,"li"),g._uU(45,"Time bonus will be calculated as "),g._UZ(46,"br"),g.TgZ(47,"var"),g._uU(48,"t"),g.qZA(),g._uU(49," / "),g.TgZ(50,"var"),g._uU(51,"30"),g.qZA(),g._uU(52," x "),g.TgZ(53,"var"),g._uU(54,"initial-score"),g.qZA(),g._UZ(55,"br"),g._uU(56,"where "),g.TgZ(57,"var"),g._uU(58,"t"),g.qZA(),g._uU(59," is the time left after locking your answers."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(60,"ion-footer",5),g.TgZ(61,"ion-toolbar",6),g.TgZ(62,"ion-button",7),g.NdJ("click",function(){return t.dismissPopover()}),g._uU(63,"DISMISS"),g.qZA(),g.qZA(),g.qZA())},directives:[i.Gu,i.sr,i.wd,i.fr,i.YG],styles:["[_nghost-%COMP%]{color:maroon}[_nghost-%COMP%]   .stage-list[_ngcontent-%COMP%]{padding-inline-start:28px;padding-inline-end:12px}[_nghost-%COMP%]   .rules-list[_ngcontent-%COMP%]{padding-inline-start:28px}[_nghost-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{height:464px;overflow-y:auto}"]}),e})();function J(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"form"),g.TgZ(1,"ion-list",3),g.TgZ(2,"ion-item"),g.TgZ(3,"ion-label"),g._uU(4,"No. of Rounds"),g.qZA(),g.TgZ(5,"ion-select",4),g.TgZ(6,"ion-select-option",5),g._uU(7,"2"),g.qZA(),g.TgZ(8,"ion-select-option",6),g._uU(9,"3"),g.qZA(),g.TgZ(10,"ion-select-option",7),g._uU(11,"4"),g.qZA(),g.TgZ(12,"ion-select-option",8),g._uU(13,"5"),g.qZA(),g.TgZ(14,"ion-select-option",9),g._uU(15,"7"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"ion-button",2),g.NdJ("click",function(){return g.CHM(e),g.oxw().onStartGame()}),g._uU(17,"START GAME"),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(5),g.Q6J("formControl",e.rounds)}}function N(e,t){1&e&&(g.TgZ(0,"p"),g._uU(1,"Waiting for the host"),g._UZ(2,"br"),g._uU(3,"to start the game"),g.qZA())}let Y=(()=>{class e{constructor(e,t){this.gameService=e,this.popoverController=t,this.rounds=new s.NI("3")}ngOnInit(){this.isHost=this.gameService.checkIfHost()}onStartGame(){this.gameService.startGame(this.rounds.value)}onShareGame(){this.gameService.shareGame()}openRules(){return p(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:I,cssClass:"rules-popup-class",mode:"md"});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P),g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-start"]],decls:10,vars:4,consts:[[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"click"],["lines","none",1,"ion-no-padding"],["placeholder","Select One","interface","popover","mode","ios",3,"formControl"],["value","2"],["value","3"],["value","4"],["value","5"],["value","7"]],template:function(e,t){if(1&e&&(g.TgZ(0,"h1"),g._uU(1,"Welcome!"),g.qZA(),g.YNc(2,J,18,1,"form",0),g.ALo(3,"async"),g.YNc(4,N,4,0,"ng-template",null,1,g.W1O),g.TgZ(6,"ion-button",2),g.NdJ("click",function(){return t.openRules()}),g._uU(7,"READ RULES"),g.qZA(),g.TgZ(8,"ion-button",2),g.NdJ("click",function(){return t.onShareGame()}),g._uU(9,"SHARE via WhatsApp"),g.qZA()),2&e){const e=g.MAs(5);g.xp6(2),g.Q6J("ngIf",g.lcZ(3,2,t.isHost))("ngIfElse",e)}},directives:[o.O5,i.YG,s._Y,s.JL,s.F,i.q_,i.Ie,i.Q$,i.t9,i.QI,s.JJ,s.oH,i.n0],pipes:[o.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:8px 0}[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{--ion-item-background:#0000}"]}),e})();var W=n(9713),Q=n(6163);function F(e=0,t,n){let o=-1;return w(t)?o=Number(t)<1?1:Number(t):(0,Q.K)(t)&&(n=t),(0,Q.K)(n)||(n=x),new d.y(t=>{const i=w(e)?e:+e-n.now();return n.schedule(j,i,{index:0,period:o,subscriber:t})})}function j(e){const{index:t,period:n,subscriber:o}=e;if(o.next(t),!o.closed){if(-1===n)return o.complete();e.index=t+1,this.schedule(e,n)}}let E=(()=>{class e{constructor(){this.counterArray=[{text:"3",styles:{color:"red","font-size":"128px"}},{text:"2",styles:{color:"orange","font-size":"128px"}},{text:"1",styles:{color:"green","font-size":"128px"}},{text:"READY!!",styles:{color:"blue","font-size":"64px"}}],this.counter=0}ngOnInit(){let e=F(0,1e3).subscribe(t=>{t>3?e.unsubscribe():this.counter=t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-transition"]],decls:4,vars:3,consts:[[1,"funky-text",3,"ngStyle"]],template:function(e,t){1&e&&(g.TgZ(0,"h3"),g._uU(1,"Next round starts in"),g.qZA(),g.TgZ(2,"div",0),g._uU(3),g.qZA()),2&e&&(g.xp6(2),g.Q6J("@counterValue",t.counter)("ngStyle",t.counterArray[t.counter].styles),g.xp6(1),g.Oqu(t.counterArray[t.counter].text))},directives:[o.PC],styles:[".funky-text[_ngcontent-%COMP%]{font-size:128px;font-weight:700;color:blue;font-family:Comic Sans MS,Comic Sans,comic_sans,cursive;height:144px;line-height:144px}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;overflow-y:auto}"],data:{animation:[(0,W.X$)("counterValue",[(0,W.eR)(":enter, :increment, :decrement",[(0,W.oB)({transform:"scale(0.2)"}),(0,W.jt)("600ms",(0,W.oB)({transform:"*"}))])])]}}),e})();class H{constructor(e,t,n,o){this.name=e,this.place=t,this.thing=n,this.animal=o}}let z=(()=>{class e{constructor(){this.initials=""}validate(e){return this.initials?(t=new RegExp("^"+this.initials,"i"),e=>e.value?t.test(e.value)?null:{forbiddenInitial:{value:e.value}}:null)(e):null;var t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=g.lG2({type:e,selectors:[["","appInitials",""]],inputs:{initials:["appInitials","initials"]},features:[g._Bn([{provide:s.Cf,useExisting:e,multi:!0}])]}),e})(),G=(()=>{class e{constructor(e,t){this.gameService=e,this.toastController=t,this.model=new H("","","","")}ngOnInit(){this.letter=this.gameService.getLetter(),this.triggerSubscription=this.gameService.submissionTrigger.subscribe(()=>{this.submitting=!0,this.locked||this.gameService.saveInput(this.model)})}onLock(){this.gameService.saveInput(this.model,!0),this.locked=!0}onChange(){this.locked=!1}ngOnDestroy(){this.triggerSubscription.unsubscribe()}showSubmittingToast(){return p(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Submitting your inputs",duration:2e3,cssClass:"custom-toast-position",translucent:!0,mode:"md",color:"primary"})).present()})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P),g.Y36(i.yF))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-input"]],hostVars:2,hostBindings:function(e,t){2&e&&g.ekj("submitting",t.submitting)},decls:16,vars:10,consts:[[3,"ngSubmit"],["inputForm","ngForm"],[1,"formgroup"],["type","text","placeholder","Name","name","name","autocomplete","off",3,"ngModel","appInitials","ngModelChange","change"],["type","text","placeholder","Place","name","place","autocomplete","off",3,"ngModel","appInitials","ngModelChange","change"],["type","text","placeholder","Thing","name","thing","autocomplete","off",3,"ngModel","appInitials","ngModelChange","change"],["type","text","placeholder","Animal","name","animal","autocomplete","off",3,"ngModel","appInitials","ngModelChange","change"],[1,"ion-justify-content-center"],["type","submit",3,"disabled"],[1,"spinner-container"],["name","lines","color","primary"]],template:function(e,t){1&e&&(g.TgZ(0,"h5"),g._uU(1,"Your letter is "),g.TgZ(2,"strong"),g._uU(3),g.qZA(),g.qZA(),g.TgZ(4,"form",0,1),g.NdJ("ngSubmit",function(){return t.onLock()}),g.TgZ(6,"div",2),g.TgZ(7,"input",3),g.NdJ("ngModelChange",function(e){return t.model.name=e})("change",function(){return t.onChange()}),g.qZA(),g.TgZ(8,"input",4),g.NdJ("ngModelChange",function(e){return t.model.place=e})("change",function(){return t.onChange()}),g.qZA(),g.TgZ(9,"input",5),g.NdJ("ngModelChange",function(e){return t.model.thing=e})("change",function(){return t.onChange()}),g.qZA(),g.TgZ(10,"input",6),g.NdJ("ngModelChange",function(e){return t.model.animal=e})("change",function(){return t.onChange()}),g.qZA(),g.qZA(),g.TgZ(11,"ion-row",7),g.TgZ(12,"ion-button",8),g._uU(13,"Lock"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",9),g._UZ(15,"ion-spinner",10),g.qZA()),2&e&&(g.xp6(3),g.hij("\u2018",t.letter,"\u2019"),g.xp6(4),g.Q6J("ngModel",t.model.name)("appInitials",t.letter),g.xp6(1),g.Q6J("ngModel",t.model.place)("appInitials",t.letter),g.xp6(1),g.Q6J("ngModel",t.model.thing)("appInitials",t.letter),g.xp6(1),g.Q6J("ngModel",t.model.animal)("appInitials",t.letter),g.xp6(2),g.Q6J("disabled",t.locked))},directives:[s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,z,i.Nd,i.YG,i.PQ],styles:["[_nghost-%COMP%]{display:flex;height:100%;position:relative;flex-direction:column;overflow-y:auto;align-items:center;justify-content:center}[_nghost-%COMP%]   .formgroup[_ngcontent-%COMP%]{display:grid;grid-gap:20px;grid-template-columns:1fr 1fr;margin:12px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;border:2px solid #eee8aa;border-radius:2px}[_nghost-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red;outline:unset!important}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:16px 0}[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;display:none;justify-content:center;align-items:center;z-index:10;background-color:#ffffff80}[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{transform:scale(3)}.submitting[_nghost-%COMP%]   .spinner-container[_ngcontent-%COMP%]{display:flex}"]}),e})(),D=(()=>{class e{constructor(e,t){this.gameService=e,this.popoverController=t}ngOnInit(){}suggestToAddWord(){this.gameService.suggestWord(this.category+"_"+this.word,"ADD"),this.popoverController.dismiss()}suggestToRemoveWord(){this.gameService.suggestWord(this.category+"_"+this.word,"DELETE"),this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P),g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-word-popup"]],inputs:{word:"word",category:"category"},decls:7,vars:1,consts:[[3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"h5"),g._uU(1),g.qZA(),g._UZ(2,"hr"),g.TgZ(3,"ion-button",0),g.NdJ("click",function(){return t.suggestToAddWord()}),g._uU(4,"ADD TO DICTIONARY"),g.qZA(),g.TgZ(5,"ion-button",0),g.NdJ("click",function(){return t.suggestToRemoveWord()}),g._uU(6,"REPORT INVALID"),g.qZA()),2&e&&(g.xp6(1),g.Oqu(t.word))},directives:[i.YG],styles:["[_nghost-%COMP%]{display:block;padding:30px;text-align:center}[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:20px;background-color:var(--ion-color-primary)}"]}),e})();function R(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-row",2),g.TgZ(1,"ion-col",3),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().toggleVote("name",t[1].name)})("contextmenu",function(t){const n=g.CHM(e).$implicit;return g.oxw().presentWordPopover(t,"name",n[1].name)}),g.TgZ(2,"div",4),g.TgZ(3,"div",5),g._uU(4),g.qZA(),g._UZ(5,"ion-icon",6),g.qZA(),g.qZA(),g.TgZ(6,"ion-col",3),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().toggleVote("place",t[1].place)})("contextmenu",function(t){const n=g.CHM(e).$implicit;return g.oxw().presentWordPopover(t,"place",n[1].place)}),g.TgZ(7,"div",4),g.TgZ(8,"div",5),g._uU(9),g.qZA(),g._UZ(10,"ion-icon",6),g.qZA(),g.qZA(),g.TgZ(11,"ion-col",3),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().toggleVote("thing",t[1].thing)})("contextmenu",function(t){const n=g.CHM(e).$implicit;return g.oxw().presentWordPopover(t,"thing",n[1].thing)}),g.TgZ(12,"div",4),g.TgZ(13,"div",5),g._uU(14),g.qZA(),g._UZ(15,"ion-icon",6),g.qZA(),g.qZA(),g.TgZ(16,"ion-col",3),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().toggleVote("animal",t[1].animal)})("contextmenu",function(t){const n=g.CHM(e).$implicit;return g.oxw().presentWordPopover(t,"animal",n[1].animal)}),g.TgZ(17,"div",4),g.TgZ(18,"div",5),g._uU(19),g.qZA(),g._UZ(20,"ion-icon",6),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,n=g.oxw();g.xp6(1),g.ekj("valid",n.validWordsMap["name_"+e[1].name]||n.correctWords["name_"+e[1].name])("invalid",n.invalidWords["name_"+e[1].name])("double",n.doubleWords["name_"+e[1].name]),g.xp6(3),g.Oqu(e[1].name||"--"),g.xp6(1),g.ekj("ion-hide",!n.voteMap["name_"+e[1].name]),g.xp6(1),g.ekj("valid",n.validWordsMap["place_"+e[1].place]||n.correctWords["place_"+e[1].place])("invalid",n.invalidWords["place_"+e[1].place])("double",n.doubleWords["place_"+e[1].place]),g.xp6(3),g.Oqu(e[1].place||"--"),g.xp6(1),g.ekj("ion-hide",!n.voteMap["place_"+e[1].place]),g.xp6(1),g.ekj("valid",n.validWordsMap["thing_"+e[1].thing]||n.correctWords["thing_"+e[1].thing])("invalid",n.invalidWords["thing_"+e[1].thing])("double",n.doubleWords["thing_"+e[1].thing]),g.xp6(3),g.Oqu(e[1].thing||"--"),g.xp6(1),g.ekj("ion-hide",!n.voteMap["thing_"+e[1].thing]),g.xp6(1),g.ekj("valid",n.validWordsMap["animal_"+e[1].animal]||n.correctWords["animal_"+e[1].animal])("invalid",n.invalidWords["animal_"+e[1].animal])("double",n.doubleWords["animal_"+e[1].animal]),g.xp6(3),g.Oqu(e[1].animal||"--"),g.xp6(1),g.ekj("ion-hide",!n.voteMap["animal_"+e[1].animal])}}let L=(()=>{class e{constructor(e,t){this.gameService=e,this.popoverController=t,this.voteMap={},this.validWordsMap={},this.count=0}ngOnInit(){let e=this.gameService.getInputs();this.inputs=e.all,this.invalidWords=e.invalid,this.doubleWords=e.double,this.correctWords=e.correct,this.validWordsSubscription=this.gameService.getValidWords().subscribe(e=>{this.validWordsMap=e}),this.gameService.fetchValidWords()}presentWordPopover(e,t,n){return p(this,void 0,void 0,function*(){if(e.preventDefault(),!n)return;const o=yield this.popoverController.create({component:D,componentProps:{word:n,category:t},cssClass:"word-popup-class",mode:"md"});yield o.present()})}toggleVote(e,t){if(!t)return;let n=e+"_"+t;this.invalidWords[n]||this.correctWords[n]||(this.voteMap[n]=!this.voteMap[n],this.gameService.updateVote(n,this.voteMap[n]))}ngOnDestroy(){this.validWordsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P),g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-assessment"]],decls:11,vars:1,consts:[[1,"header"],["class","body",4,"ngFor","ngForOf"],[1,"body"],["size","3",3,"click","contextmenu"],[1,"word-wrapper"],[1,"word"],["name","thumbs-up-sharp"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-grid"),g.TgZ(1,"ion-row",0),g.TgZ(2,"ion-col"),g._uU(3,"Name"),g.qZA(),g.TgZ(4,"ion-col"),g._uU(5,"Place"),g.qZA(),g.TgZ(6,"ion-col"),g._uU(7,"Thing"),g.qZA(),g.TgZ(8,"ion-col"),g._uU(9,"Animal"),g.qZA(),g.qZA(),g.YNc(10,R,21,36,"ion-row",1),g.qZA()),2&e&&(g.xp6(10),g.Q6J("ngForOf",t.inputs))},directives:[i.jY,i.Nd,i.wI,o.sg,i.gu],styles:["[_nghost-%COMP%]{display:flex;height:100%;overflow-y:auto;justify-content:center}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin:12px;width:calc(100% - 24px)}[_nghost-%COMP%]   ion-row[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   ion-row.body[_ngcontent-%COMP%]{margin:4px}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:10px 4px}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:3px}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]{background-color:snow;color:#8b4513;display:flex;padding:10px 4px;text-align:center;text-transform:capitalize;font-size:12px;border-radius:8px;box-shadow:3px 3px 10px #e1d4c2,-3px -3px 10px #ffffed}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]   .word[_ngcontent-%COMP%]{width:100%;line-height:20px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#f4a460}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col.valid[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]{background-color:#98fb98}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col.invalid[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]{text-decoration:line-through;color:red}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col.valid.double[_ngcontent-%COMP%]   .word-wrapper[_ngcontent-%COMP%]{background-color:#eee8aa}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;padding-left:8px;color:azure}[_nghost-%COMP%]   ion-row.header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#eec590,#c8a67a);border-radius:8px;box-shadow:3px 3px 10px #e1d4c2,-3px -3px 10px #ffffed}"]}),e})();function V(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"span",10),g._uU(2),g.qZA(),g._UZ(3,"br"),g.BQk()),2&e){const e=t.$implicit;g.xp6(2),g.Oqu(e)}}function $(e,t){if(1&e&&(g.TgZ(0,"ion-item",5),g.TgZ(1,"ion-avatar",6),g._UZ(2,"ion-icon",7),g.qZA(),g.TgZ(3,"ion-label"),g.YNc(4,V,4,1,"ng-container",8),g.qZA(),g.TgZ(5,"ion-chip",9),g._uU(6),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngForOf",e.winners.first),g.xp6(2),g.Oqu(e.winners.firstScore)}}function X(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"span",10),g._uU(2),g.qZA(),g._UZ(3,"br"),g.BQk()),2&e){const e=t.$implicit;g.xp6(2),g.Oqu(e)}}function B(e,t){if(1&e&&(g.TgZ(0,"ion-item",5),g.TgZ(1,"ion-avatar",6),g._UZ(2,"ion-icon",11),g.qZA(),g.TgZ(3,"ion-label"),g.YNc(4,X,4,1,"ng-container",8),g.qZA(),g.TgZ(5,"ion-chip",9),g._uU(6),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngForOf",e.winners.second),g.xp6(2),g.Oqu(e.winners.secondScore)}}function K(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"span",10),g._uU(2),g.qZA(),g._UZ(3,"br"),g.BQk()),2&e){const e=t.$implicit;g.xp6(2),g.Oqu(e)}}function ee(e,t){if(1&e&&(g.TgZ(0,"ion-item",5),g.TgZ(1,"ion-avatar",6),g._UZ(2,"ion-icon",12),g.qZA(),g.TgZ(3,"ion-label"),g.YNc(4,K,4,1,"ng-container",8),g.qZA(),g.TgZ(5,"ion-chip",9),g._uU(6),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngForOf",e.winners.third),g.xp6(2),g.Oqu(e.winners.thirdScore)}}let te=(()=>{class e{constructor(e){this.gameService=e,this.winners={},this.isDisabled=!0}ngOnInit(){this.winners=this.gameService.getWinners(),F(5e3).subscribe(()=>this.isDisabled=!1)}newGame(){this.gameService.newGame()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-result"]],decls:8,vars:4,consts:[[1,"result-container"],["src","/assets/icon/congrats4.png",1,"congrats"],["lines","none",1,"winners-list"],["class","list-item",4,"ngIf"],[3,"disabled","click"],[1,"list-item"],["slot","start",1,"avatar"],["name","trophy",1,"first","position"],[4,"ngFor","ngForOf"],["slot","end"],[1,"player-name"],["name","trophy",1,"second","position"],["name","trophy",1,"third","position"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"ion-img",1),g.TgZ(2,"ion-list",2),g.YNc(3,$,7,2,"ion-item",3),g.YNc(4,B,7,2,"ion-item",3),g.YNc(5,ee,7,2,"ion-item",3),g.qZA(),g.qZA(),g.TgZ(6,"ion-button",4),g.NdJ("click",function(){return t.newGame()}),g._uU(7,"New Game"),g.qZA()),2&e&&(g.xp6(3),g.Q6J("ngIf",t.winners.first.length),g.xp6(1),g.Q6J("ngIf",t.winners.second.length),g.xp6(1),g.Q6J("ngIf",t.winners.third.length),g.xp6(1),g.Q6J("disabled",t.isDisabled))},directives:[i.Xz,i.q_,o.O5,i.YG,i.Ie,i.BJ,i.gu,i.Q$,o.sg,i.hM],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{margin:8px}[_nghost-%COMP%]   .congrats[_ngcontent-%COMP%]{margin-bottom:-20px}[_nghost-%COMP%]   .winners-list[_ngcontent-%COMP%]{--ion-background-color:#0000;padding:0}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]{margin:6px 12px;background-color:#fff8dc;--padding-start:8px}[_nghost-%COMP%]   .position[_ngcontent-%COMP%]{font-size:32px;padding:4px}[_nghost-%COMP%]   .position[_ngcontent-%COMP%]:after{content:"";position:absolute;top:8px;left:20px;font-size:12px;color:#fff;line-height:16px;transform:translateX(-50%)}[_nghost-%COMP%]   .first[_ngcontent-%COMP%]{color:gold}[_nghost-%COMP%]   .first[_ngcontent-%COMP%]:after{content:"1"}[_nghost-%COMP%]   .second[_ngcontent-%COMP%]{color:silver}[_nghost-%COMP%]   .second[_ngcontent-%COMP%]:after{content:"2"}[_nghost-%COMP%]   .third[_ngcontent-%COMP%]{color:#cd7f32}[_nghost-%COMP%]   .third[_ngcontent-%COMP%]:after{content:"3"}[_nghost-%COMP%]   .player-name[_ngcontent-%COMP%]:not(:last-of-type):after{content:","}[_nghost-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;margin-inline-end:8px}']}),e})();function ne(e,t){if(1&e&&(g.TgZ(0,"ion-row",2),g.TgZ(1,"ion-col"),g._uU(2),g.qZA(),g.TgZ(3,"ion-col"),g._uU(4),g.qZA(),g.TgZ(5,"ion-col"),g._uU(6),g.qZA(),g.qZA()),2&e){const e=t.$implicit,n=g.oxw();g.xp6(2),g.Oqu(e[0]),g.xp6(2),g.Oqu(n.scores.round[e[0]]),g.xp6(2),g.Oqu(e[1])}}let oe=(()=>{class e{constructor(e){this.gameService=e}ngOnInit(){this.scores=this.gameService.getScores()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-stage-score"]],decls:9,vars:1,consts:[[1,"header"],["class","body",4,"ngFor","ngForOf"],[1,"body"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-grid"),g.TgZ(1,"ion-row",0),g.TgZ(2,"ion-col"),g._uU(3,"Player"),g.qZA(),g.TgZ(4,"ion-col"),g._uU(5,"Round Score"),g.qZA(),g.TgZ(6,"ion-col"),g._uU(7,"Total Score"),g.qZA(),g.qZA(),g.YNc(8,ne,7,3,"ion-row",1),g.qZA()),2&e&&(g.xp6(8),g.Q6J("ngForOf",t.scores.total))},directives:[i.jY,i.Nd,i.wI,o.sg],styles:["[_nghost-%COMP%]{display:flex;height:100%;overflow-y:auto;justify-content:center}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin:4px 12px}[_nghost-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:10px 4px}[_nghost-%COMP%]   ion-row.body[_ngcontent-%COMP%]{grid-gap:2px;gap:2px;margin:0 8px}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{color:#8b4513;font-size:14px;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;box-shadow:inset 3px 3px 10px #e1d4c2,inset -3px -3px 10px #ffffed}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-weight:700;text-align:center;text-transform:uppercase;padding-left:8px;color:azure}[_nghost-%COMP%]   ion-row.header[_ngcontent-%COMP%]{background:linear-gradient(145deg,#eec590,#c8a67a);border-radius:8px;margin-bottom:12px;box-shadow:3px 3px 10px #e1d4c2,-3px -3px 10px #ffffed}"]}),e})();function ie(e,t){if(1&e&&(g.TgZ(0,"ion-label"),g._uU(1),g.ALo(2,"number"),g.ALo(3,"number"),g.qZA()),2&e){const e=t.ngIf;g.xp6(1),g.AsE("",g.xi3(2,2,e.min,"2.0-0"),":",g.xi3(3,5,e.sec,"2.0-0"),"")}}function se(e,t){1&e&&(g.TgZ(0,"ion-label"),g._uU(1,"00:00"),g.qZA())}function re(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toolbar",4),g.TgZ(1,"ion-chip",5),g._UZ(2,"ion-icon",6),g.YNc(3,ie,4,8,"ion-label",7),g.ALo(4,"async"),g.YNc(5,se,2,0,"ng-template",null,8,g.W1O),g.qZA(),g.TgZ(7,"ion-buttons",9),g.TgZ(8,"ion-button",10),g.NdJ("click",function(){return g.CHM(e),g.oxw().openScorecard()}),g._UZ(9,"ion-icon",11),g.qZA(),g.TgZ(10,"ion-button",10),g.NdJ("click",function(){g.CHM(e);const t=g.oxw();return t.openStageHelp(t.stage)}),g._UZ(11,"ion-icon",12),g.qZA(),g.qZA(),g.TgZ(12,"ion-title"),g._uU(13),g.ALo(14,"async"),g.qZA(),g.qZA()}if(2&e){const e=g.MAs(6),t=g.oxw();g.xp6(3),g.Q6J("ngIf",g.lcZ(4,3,t.stageTimer))("ngIfElse",e),g.xp6(10),g.hij("Round ",g.lcZ(14,5,t.round),"")}}function ce(e,t){1&e&&g._UZ(0,"app-stage-start")}function ae(e,t){1&e&&g._UZ(0,"app-stage-transition")}function le(e,t){1&e&&g._UZ(0,"app-stage-input")}function ge(e,t){1&e&&g._UZ(0,"app-stage-assessment")}function ue(e,t){1&e&&g._UZ(0,"app-stage-result")}function pe(e,t){1&e&&g._UZ(0,"app-stage-score")}function de(e,t){if(1&e&&(g.TgZ(0,"p"),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.hij("Default Case ",e.stage,"")}}let he=(()=>{class e{constructor(e,t){this.gameService=e,this.popoverController=t,this.headerShown=!1,this.viewOnly=!0}ngOnInit(){this.gameService.getViewOnlyStatus().subscribe(e=>{this.viewOnly=e}),this.stageSubscription=this.gameService.getStage().subscribe(e=>{this.stage=e,this.headerShown="transition"===e||"input"===e||"assessment"===e||"score"===e}),this.round=this.gameService.getRound(),this.gameService.getTimer().subscribe(e=>{this.stageTimer=function(e=0,t=x){return(!w(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=x),new d.y(n=>(n.add(t.schedule(b,e,{subscriber:n,counter:0,period:e})),n))}(1e3).pipe((0,C.q)(e),(0,O.U)(t=>{let n=e-t-1;return{min:Math.trunc(n/60),sec:n%60}}))}),this.gameService.handleGame()}openStageHelp(e){return p(this,void 0,void 0,function*(){switch(e){case"input":case"assessment":case"score":const t=yield this.popoverController.create({component:y,cssClass:"rules-popup-class",componentProps:{stage:e},mode:"md"});yield t.present()}})}openScorecard(){return p(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:U,cssClass:"rules-popup-class",mode:"md"});yield e.present()})}ngOnDestroy(){this.stageSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(P),g.Y36(i.Dh))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-game"]],hostVars:2,hostBindings:function(e,t){2&e&&g.ekj("disabled",t.viewOnly)},decls:9,vars:10,consts:[["mode","md",4,"ngIf"],[1,"game-area",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mode","md"],["slot","start"],["name","hourglass-outline"],[4,"ngIf","ngIfElse"],["elseBlock",""],["slot","end"],["slot","icon-only",3,"click"],["name","newspaper-outline"],["name","help-circle-outline"]],template:function(e,t){1&e&&(g.YNc(0,re,15,7,"ion-toolbar",0),g.TgZ(1,"div",1),g.YNc(2,ce,1,0,"app-stage-start",2),g.YNc(3,ae,1,0,"app-stage-transition",2),g.YNc(4,le,1,0,"app-stage-input",2),g.YNc(5,ge,1,0,"app-stage-assessment",2),g.YNc(6,ue,1,0,"app-stage-result",2),g.YNc(7,pe,1,0,"app-stage-score",2),g.YNc(8,de,2,1,"p",3),g.qZA()),2&e&&(g.Q6J("ngIf",t.headerShown),g.xp6(1),g.ekj("withheader",t.headerShown),g.Q6J("ngSwitch",t.stage),g.xp6(1),g.Q6J("ngSwitchCase","start"),g.xp6(1),g.Q6J("ngSwitchCase","transition"),g.xp6(1),g.Q6J("ngSwitchCase","input"),g.xp6(1),g.Q6J("ngSwitchCase","assessment"),g.xp6(1),g.Q6J("ngSwitchCase","result"),g.xp6(1),g.Q6J("ngSwitchCase","score"))},directives:[o.O5,o.RF,o.n9,o.ED,i.sr,i.hM,i.gu,i.Sm,i.YG,i.wd,i.Q$,Y,E,G,L,te,oe],pipes:[o.Ov,o.JJ],styles:["[_nghost-%COMP%]{display:block;height:50%;flex-shrink:0;background-color:#faebd7;overflow:auto}.landscape[_nghost-%COMP%]{height:100%;flex:1 1 0}[_nghost-%COMP%]   .game-area[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .game-area.withheader[_ngcontent-%COMP%]{height:calc(100% - 56px)}[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--opacity:0.6}[_nghost-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.disabled[_nghost-%COMP%]{opacity:.5;pointer-events:none}"]}),e})();function me(e,t){if(1&e&&(g.TgZ(0,"p",2),g.TgZ(1,"ion-chip"),g.TgZ(2,"ion-label"),g._uU(3),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(3),g.Oqu(e.message)}}function fe(e,t){if(1&e&&(g.TgZ(0,"p",null,1),g.TgZ(2,"span",3),g._uU(3),g.qZA(),g.TgZ(4,"span",4),g._uU(5),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(3),g.hij("",e.username,":"),g.xp6(2),g.Oqu(e.message)}}let Ze=(()=>{class e{constructor(){this.afterViewInitEvent=new g.vpe}ngOnInit(){let e=new Date(this.createdAt);this.createdAtTime=new Intl.DateTimeFormat("en-IN",{timeStyle:"short"}).format(e)}ngAfterViewInit(){this.afterViewInitEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-message"]],inputs:{username:["by","username"],createdAt:["at","createdAt"],message:["content","message"]},outputs:{afterViewInitEvent:"afterViewInitEvent"},decls:3,vars:2,consts:[["class","adminMsg",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"adminMsg"],[1,"message__name"],[1,"message__text"]],template:function(e,t){if(1&e&&(g.YNc(0,me,4,1,"p",0),g.YNc(1,fe,6,2,"ng-template",null,1,g.W1O)),2&e){const e=g.MAs(2);g.Q6J("ngIf","Admin"===t.username)("ngIfElse",e)}},directives:[o.O5,i.hM,i.Q$],styles:["[_nghost-%COMP%]{display:block;margin-bottom:12px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.message__name[_ngcontent-%COMP%]{font-weight:600;font-size:14px;margin-right:8px;color:#8b4513;white-space:nowrap}.message__meta[_ngcontent-%COMP%]{color:#777;font-size:14px}.message__text[_ngcontent-%COMP%]{color:#500000}.adminMsg[_ngcontent-%COMP%]{text-align:center}.message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0070cc}"]}),e})();function _e(e,t){if(1&e&&(g.TgZ(0,"li"),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.AsE("",e.username,"",e.isHost?"(host)":"","")}}function xe(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"app-message",12),g.NdJ("afterViewInitEvent",function(){return g.CHM(e),g.oxw().autoScroll()}),g.qZA(),g.BQk()}if(2&e){const e=t.$implicit;g.xp6(1),g.Q6J("by",e.username)("at",e.createdAt)("content",e.text)}}let ve=(()=>{class e{constructor(e,t){this.socketService=e,this.hostEl=t,this.messages=[],this.users=[]}ngOnInit(){this.messagesContainer=this.hostEl.nativeElement.querySelector("#messages"),this.socketService.recievedMessages.subscribe(e=>{this.messages.push(e)}),this.socketService.roomData.subscribe(e=>{this.users=e.users.map(t=>Object.assign(Object.assign({},t),{isHost:e.host===t.username}))})}onSubmit(){this.socketService.sendMessage(this.composedMessage),this.composedMessage=""}autoScroll(){this.messagesContainer.scrollTop=this.messagesContainer.scrollHeight}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(u.$),g.Y36(g.SBq))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-chat"]],inputs:{room:"room"},decls:17,vars:4,consts:[[1,"chat"],["id","sidebar",1,"chat__sidebar"],[1,"room-title"],[1,"list-title"],[1,"users"],[4,"ngFor","ngForOf"],[1,"chat__main"],["id","messages",1,"chat__messages"],[1,"compose"],["id","message-form",3,"ngSubmit"],["messageForm","ngForm"],["name","message","placeholder","Message","required","","autocomplete","off",3,"ngModel","ngModelChange"],[3,"by","at","content","afterViewInitEvent"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3),g.qZA(),g.TgZ(4,"h3",3),g._uU(5,"Users"),g.qZA(),g.TgZ(6,"ul",4),g.YNc(7,_e,2,2,"li",5),g.qZA(),g.qZA(),g.TgZ(8,"div",6),g.TgZ(9,"div",7),g.YNc(10,xe,2,3,"ng-container",5),g.qZA(),g.TgZ(11,"div",8),g.TgZ(12,"form",9,10),g.NdJ("ngSubmit",function(){return t.onSubmit()}),g.TgZ(14,"input",11),g.NdJ("ngModelChange",function(e){return t.composedMessage=e}),g.qZA(),g.TgZ(15,"button"),g._uU(16,"Send"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(3),g.Oqu(t.room),g.xp6(4),g.Q6J("ngForOf",t.users),g.xp6(3),g.Q6J("ngForOf",t.messages),g.xp6(4),g.Q6J("ngModel",t.composedMessage))},directives:[o.sg,s._Y,s.JL,s.F,s.Fj,s.Q7,s.JJ,s.On,Ze],styles:["[_nghost-%COMP%]{display:block;height:50%;flex-shrink:0;overflow:auto;box-shadow:0 -4px 5px -2px #00000026}.landscape[_nghost-%COMP%]{height:100%;flex:1 1 0}.chat[_ngcontent-%COMP%]{display:flex;height:100%}.chat__sidebar[_ngcontent-%COMP%]{height:100%;color:#fff;background:var(--ion-color-primary-tint,#c48567);flex:0 0 36%;overflow-y:scroll}.chat__main[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;max-width:64%}.chat__messages[_ngcontent-%COMP%]{flex-grow:1;padding:12px 12px 0;overflow-y:scroll}.compose[_ngcontent-%COMP%]{display:flex;flex-shrink:0;margin-top:16px}.compose[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-grow:1}.compose[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #eee;width:100%;padding:12px;flex-grow:1}.compose[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px}.room-title[_ngcontent-%COMP%]{font-weight:400;font-size:18px;background:var(--ion-color-primary-shade,#a6694c);padding:16px 12px}.list-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;margin-bottom:4px}.list-title[_ngcontent-%COMP%], .users[_ngcontent-%COMP%]{padding:0 12px 0 16px}.users[_ngcontent-%COMP%]{list-style-type:none;font-weight:300;font-size:15px}.users[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:12px 0}"]}),e})();const we=[{path:"",component:(()=>{class e{constructor(e,t){this.route=e,this.socketService=t,this.sectionHeight="50%",this.orientationSubject=new a.xQ,this.screenHeightSubject=new a.xQ}onResize(){let e=20;clearInterval(this.resizeTimerId),this.resizeTimerId=setInterval(()=>{document.activeElement===document.body&&e--||clearInterval(this.resizeTimerId),this.screenHeightSubject.next(window.screen.availHeight)},100)}ngOnInit(){this.screenHeightSubject.pipe((0,l.x)()).subscribe(e=>{clearInterval(this.resizeTimerId),this.genSectionHeight()}),this.screenHeightSubject.next(window.screen.availHeight),window.screen.orientation.addEventListener("change",()=>{document.activeElement.blur()}),this.room=this.route.snapshot.paramMap.get("room"),this.socketService.setRoom(this.room),this.user=this.socketService.username,this.socketService.connect()}onLogout(){this.socketService.logout()}genSectionHeight(){let e=window.screen.orientation.type.includes("landscape");this.sectionHeight=e?window.innerHeight-56+"px":(window.innerHeight-56)/2+"px",this.orientation=e?"landscape":"portrait"}onRefresh(){location.reload()}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(c.gz),g.Y36(u.$))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-home"]],hostBindings:function(e,t){1&e&&g.NdJ("resize",function(){return t.onResize()},!1,g.Jf7)},decls:13,vars:12,consts:[["mode","md"],["slot","end"],["slot","icon-only",3,"click"],["name","log-out-outline"],["src","/assets/icon/logo.png"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["id","container"],[3,"room"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",1),g.TgZ(3,"ion-button",2),g.NdJ("click",function(){return t.onLogout()}),g._UZ(4,"ion-icon",3),g.qZA(),g.qZA(),g.TgZ(5,"ion-title"),g._UZ(6,"ion-img",4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"ion-content",5),g.TgZ(8,"ion-refresher",6),g.NdJ("ionRefresh",function(){return t.onRefresh()}),g._UZ(9,"ion-refresher-content"),g.qZA(),g.TgZ(10,"div",7),g._UZ(11,"app-game"),g._UZ(12,"app-chat",8),g.qZA(),g.qZA()),2&e&&(g.xp6(7),g.Q6J("fullscreen",!0),g.xp6(3),g.Tol(t.orientation),g.xp6(1),g.Tol(t.orientation),g.Udp("height",t.sectionHeight),g.xp6(1),g.Tol(t.orientation),g.Udp("height",t.sectionHeight),g.Q6J("room",t.room))},directives:[i.Gu,i.sr,i.Sm,i.YG,i.gu,i.wd,i.Xz,i.W2,i.nJ,i.Wo,he,ve],styles:["[_nghost-%COMP%]   #container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}ion-title[_ngcontent-%COMP%]{margin-left:40px;text-align:center}ion-img[_ngcontent-%COMP%]{height:56px}[_nghost-%COMP%]   .landscape#container[_ngcontent-%COMP%]{flex-direction:row}"]}),e})()}];let be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[c.Bz.forChild(we)],c.Bz]}),e})(),Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.ez,s.u5,s.UX,r.JF,i.Pc,be]]}),e})()}}]);